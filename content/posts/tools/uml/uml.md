---
title: "UML 图标示意"
date: 2023-01-15T17:52:52+08:00
draft: false
description: "UML"
lightgallery: true
tags: [UML]
categories: [tools]
---

> 本文采用[知识共享署名 4.0 国际许可协议](http://creativecommons.org/licenses/by/4.0/)进行许可，转载时请注明原文链接，图片在使用时请保留全部内容，可适当缩放并在引用处附上图片所在的文章链接。

<!-- TOC -->

- [1. UML](#1-uml)
	- [1.1. UML常用图表](#11-uml常用图表)
- [2. 常见类图](#2-常见类图)
	- [2.1. 类（Class)](#21-类class)
	- [2.2. 接口（Interface）](#22-接口interface)
	- [2.3. 类图中关系（relation）](#23-类图中关系relation)
		- [2.3.1. 泛化（Generalization）](#231-泛化generalization)
		- [2.3.2. 实现（Realization）](#232-实现realization)
		- [2.3.3. 关联（Association)](#233-关联association)
		- [2.3.4. 聚合（Aggregation）](#234-聚合aggregation)
		- [2.3.5. 组合(Composition)](#235-组合composition)
		- [2.3.6. 依赖(Dependency)](#236-依赖dependency)
		- [2.3.7. 总结](#237-总结)
- [3. 类图的绘制](#3-类图的绘制)
	- [3.1. 绘制要点](#31-绘制要点)
	- [3.2. 类的UML图示](#32-类的uml图示)
- [4. 参考](#4-参考)

<!-- /TOC -->

# 1. UML

## 1.1. UML常用图表

| 项目         |            价格 |                                                          数量                                                           |
| :----------- | --------------: | :---------------------------------------------------------------------------------------------------------------------: |
| 泛化（继承） |           B——▷A |                                                 B 类作为 A 类的子类存在                                                 |
| 实现         |       B------▷A |                                                     B 类实现 A 接口                                                     |
| 依赖         |       A------>B |                          B 类作为 A 类某个方法的参数，表示A想做某些事情需要依赖 B，不然做不成                           |
| 关联         |   A——>B（单向） |                               B 类作为 A 类的属性存在，语义上 A 类和 B 类的地位或水平相等                               |
|              | A <——> B（双向) |                  B 类作为 A 类的属相存在， A 类作为 B 类的属性存在，语义上 A 类和 B 类的地位或水平相等                  |
| 聚合         |          A♢——>B | B 类作为 A 类的属性存在，语义上 B 类可作为 A 类的一部分，这个关系可有可无，是A has--a  B 的关系，如房子（A），桌子（B） |
| 组合         |          A♦——>B |    B 类作为 A 类的属性存在，语义上 B 类是 A 类的一部分，这部分必须有，是 A contain--a B 的关系，如（人），大脑（B）     |

# 2. 常见类图

## 2.1. 类（Class)
在面向对象（OO) 编程中，类是对现实世界中一组具有相同特征的物体的抽象。
![img](../image/2016102822.png)

## 2.2. 接口（Interface）
接口是一种特殊的类，具有类的结构但**不可被实例化**，只可以被实现（继承）。在UML中，接口使用一个带有名称的小圆圈来进行表示。

![img](../image/2016102823.png)

## 2.3. 类图中关系（relation）
在UML类图中，常见的有以下几种关系: 泛化（Generalization）, 实现（Realization），关联（Association)，聚合（Aggregation），组合(Composition)，依赖(Dependency)

### 2.3.1. 泛化（Generalization）
【泛化关系】：是一种继承关系，表示一般与特殊的关系，它指定了子类如何特化父类的所有特征和行为。

例如：老虎是动物的一种，即有老虎的特性也有动物的共性。

【箭头指向】：带三角箭头的实线，箭头指向父类

![img](../image/2016102824.png)

### 2.3.2. 实现（Realization）

【实现关系】：是一种类与接口的关系，表示类是接口所有特征和行为的实现.

【箭头指向】：带三角箭头的虚线，箭头指向接口

![img](../image/2016102825.png)

### 2.3.3. 关联（Association)

【关联关系】：是一种拥有的关系，它使一个类知道另一个类的属性和方法；如：老师与学生，

丈夫与妻子关联可以是双向的，也可以是单向的。

双向的关联可以有两个箭头或者没有箭头，单向的关联有一个箭头。

【代码体现】：成员变量

【箭头及指向】：带普通箭头的实心线，指向被拥有者

![img](../image/2016102826.png)

上图中，老师与学生是双向关联，老师有多名学生，学生也可能有多名老师。

但学生与某课程间的关系为单向关联，一名学生可能要上多门课程，课程是个抽象的东西他不拥有学生。

下图为自身关联:

![img](../image/2016102827.png)

### 2.3.4. 聚合（Aggregation）

【聚合关系】：是整体与部分的关系，且部分可以离开整体而单独存在。

如车和轮胎是整体和部分的关系，轮胎离开车仍然可以存在。

聚合关系是关联关系的一种，是强的关联关系；关联和聚合在语法上无法区分，必须考察具体的逻辑关系。

【代码体现】：成员变量

【箭头及指向】：带空心菱形的实心线，菱形指向整体

![img](../image/2016102828.png)

### 2.3.5. 组合(Composition)

【组合关系】：是整体与部分的关系，但部分不能离开整体而单独存在。

如公司和部门是整体和部分的关系，没有公司就不存在部门。

组合关系是关联关系的一种，是比聚合关系还要强的关系，

它要求普通的聚合关系中代表整体的对象负责代表部分的对象的生命周期。

【代码体现】：成员变量

【箭头及指向】：带实心菱形的实线，菱形指向整体

![img](../image/2016102829.png)

### 2.3.6. 依赖(Dependency)

【依赖关系】：是一种使用的关系，即一个类的实现需要另一个类的协助，

所以要尽量不使用双向的互相依赖.

【代码表现】：局部变量、方法的参数或者对静态方法的调用

【箭头及指向】：带箭头的虚线，指向被使用者

![img](../image/20161028210.png)

各种关系的强弱顺序：

泛化 = 实现 > 组合 > 聚合 > 关联 > 依赖

下面这张UML图，比较形象地展示了各种类图关系：

![img](../image/20161028211.png)

### 2.3.7. 总结

![image-20220211134307563](../image/image-20220211134307563.png)

- 依赖： 对类 B 进行修改会影响到类 A 。

- 关联： 对象 A 知道对象 B。 类 A 依赖于类 B。

- 聚合： 对象 A 知道对象 B 且由 B 构成。 类 A 依赖于类 B。

- 组合： 对象 A 知道对象 B、 由 B 构成而且管理着 B 的生命周期。 类 A 依赖于类 B。

- 实现： 类 A 定义的方法由接口 B 声明。 对象 A 可被视为对象 B。 类 A 依赖于类 B。

- 继承： 类 A 继承类 B 的接口和实现， 但是可以对其进行扩展。 对象 A 可被视为对象 B。 类 A 依赖于类 B。

  ![image-20220211134307563](../image/UML关系总结.svg)

# 3. 类图的绘制

## 3.1. 绘制要点

1. 类的操作是针对类自身的操作，而不是它去操作人家。比如书这个类有上架下架的操作，是书自己被上架下架，不能因为上架下架是管理员的动作而把它放在管理员的操作里。

2. 两个相关联的类，需要在关联的类中加上被关联类的ID，并且箭头指向被关联类。可以理解为数据表中的外键。比如借书和书，借书需要用到书的信息，因此借书类需包含书的ID，箭头指向书。

3. 由于业务复杂性，一个显示中的实体可能会被分为多个类，这是很正常的，类不是越少越好。类的设计取决于怎样让后台程序的操作更加简单。比如单看逻辑，借书类可以不存在，它的信息可以放在书这个类里。然而借还书和书的上架下架完全不是一回事，借书类对借书的操作更加方便，不需要去重复改动书这个类中的内容。此外，如果书和借书是1对多的关系，那就必须分为两个类。

4. 类图中的规范问题，比如不同关系需要不同的箭头，可见性符号等。

## 3.2. 类的UML图示

``` c++

public class Employee {
	private String name;
	private int age;
	private String email;

	public void modifyInfo() {
		......
	}
}
```
<div align=center><img src="image/类的UML图示.png"/></div>

在UML类图中，类一般由三部分组成：

(1) 第一部分是类名：每个类都必须有一个名字，类名是一个字符串。

(2) 第二部分是类的属性(Attributes)：属性是指类的性质，即类的成员变量。一个类可以有任意多个属性，也可以没有属性

UML规定属性的表示方式为：

> 可见性 名称:类型 [ = 缺省值 ]
其中：

* “可见性”表示该属性对于类外的元素而言是否可见，包括公有(public)、私有(private)和受保护(protected)三种，在类图中分别用符号+、-和#表示。
* “名称”表示属性名，用一个字符串表示。
* “类型”表示属性的数据类型，可以是基本数据类型，也可以是用户自定义类型。
* “缺省值”是一个可选项，即属性的初始值。

(3) 第三部分是类的操作(Operations)：操作是类的任意一个实例对象都可以使用的行为，是类的成员方法。

UML规定操作的表示方式为：

> 可见性 名称(参数列表) [ : 返回类型]

# 4. 参考

[解析UML类图符号意义](https://www.jianshu.com/p/daae959e9134)
[深入浅出UML类图](http://www.uml.org.cn/oobject/201211231.asp)
[敏捷软件开发：原则、模式与实践——第20章　咖啡的启示](https://www.cnblogs.com/jesselzj/p/4769647.html)